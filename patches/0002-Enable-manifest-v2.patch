From ff862eb1fbab471ad90fb3069319fdeaffe97e4e Mon Sep 17 00:00:00 2001
From: c0re100 <corehusky@gmail.com>
Date: Wed, 5 Nov 2025 06:19:36 +0800
Subject: [PATCH] Enable manifest v2

---
 chrome/browser/extensions/manifest_v2_experiment_manager.cc | 2 +-
 components/download/public/common/download_features.cc      | 2 +-
 extensions/common/extension_features.cc                     | 6 +++---
 3 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/chrome/browser/extensions/manifest_v2_experiment_manager.cc b/chrome/browser/extensions/manifest_v2_experiment_manager.cc
index 08b7de6995162..47663ae510993 100644
--- a/chrome/browser/extensions/manifest_v2_experiment_manager.cc
+++ b/chrome/browser/extensions/manifest_v2_experiment_manager.cc
@@ -37,7 +37,7 @@ namespace extensions {
 namespace {
 
 // Whether to override the MV2 deprecation for testing purposes.
-bool g_allow_mv2_for_testing = false;
+bool g_allow_mv2_for_testing = true;
 
 // Returns the suffix to use for histograms related to the manifest location
 // grouping.
diff --git a/components/download/public/common/download_features.cc b/components/download/public/common/download_features.cc
index db0f7bc040281..ae47a85e6d252 100644
--- a/components/download/public/common/download_features.cc
+++ b/components/download/public/common/download_features.cc
@@ -14,7 +14,7 @@ BASE_FEATURE(kParallelDownloading,
 #if BUILDFLAG(IS_ANDROID)
              base::FEATURE_ENABLED_BY_DEFAULT
 #else
-             base::FEATURE_DISABLED_BY_DEFAULT
+             base::FEATURE_ENABLED_BY_DEFAULT
 #endif
 );
 
diff --git a/extensions/common/extension_features.cc b/extensions/common/extension_features.cc
index da09dd56fa654..a1e19a8561d61 100644
--- a/extensions/common/extension_features.cc
+++ b/extensions/common/extension_features.cc
@@ -92,7 +92,7 @@ BASE_FEATURE(kExtensionIconVariants,
 
 BASE_FEATURE(kExtensionManifestV2DeprecationWarning,
              "ExtensionManifestV2DeprecationWarning",
-             base::FEATURE_ENABLED_BY_DEFAULT);
+             base::FEATURE_DISABLED_BY_DEFAULT);
 
 BASE_FEATURE(kExtensionManifestV2Unsupported,
              "ExtensionManifestV2Unsupported",
@@ -104,7 +104,7 @@ BASE_FEATURE(kExtensionManifestV2ExceptionList,
 
 BASE_FEATURE(kExtensionManifestV2Disabled,
              "ExtensionManifestV2Disabled",
-             base::FEATURE_ENABLED_BY_DEFAULT);
+             base::FEATURE_DISABLED_BY_DEFAULT);
 
 const base::FeatureParam<std::string> kExtensionManifestV2ExceptionListParam(
     &kExtensionManifestV2ExceptionList,
@@ -113,7 +113,7 @@ const base::FeatureParam<std::string> kExtensionManifestV2ExceptionListParam(
 
 BASE_FEATURE(kAllowLegacyMV2Extensions,
              "AllowLegacyMV2Extensions",
-             base::FEATURE_DISABLED_BY_DEFAULT);
+             base::FEATURE_ENABLED_BY_DEFAULT);
 
 BASE_FEATURE(kExtensionWARForRedirect,
              "ExtensionWARForRedirect",
-- 
2.51.1.windows.1

